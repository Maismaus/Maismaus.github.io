<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Quick and Easy Deployments on Mendix Cloud Using Postman | Marius van der Knaap</title><meta name=keywords content="Mendix,CICD,Postman,Automation"><meta name=description content="Save time every day by using Mendix APIs"><meta name=author content="Marius"><link rel=canonical href=https://maismaus.github.io/blog/quick-and-easy-deployments-using-postman/><meta name=google-site-verification content="6-XN00slhetN1Ww4jIAgr5n3fyKy_KluA0Y04-BApmw"><link crossorigin=anonymous href=/assets/css/stylesheet.208251346d77e292c58d9b21054e463d03021272e190a62c1bec593ce208ad92.css integrity="sha256-IIJRNG134pLFjZshBU5GPQMCEnLhkKYsG+xZPOIIrZI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://maismaus.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://maismaus.github.io/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://maismaus.github.io/favicon.ico><link rel=apple-touch-icon href=https://maismaus.github.io/favicon.ico><link rel=mask-icon href=https://maismaus.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-2017VPDC7W"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2017VPDC7W",{anonymize_ip:!1})}</script><meta property="og:title" content="Quick and Easy Deployments on Mendix Cloud Using Postman"><meta property="og:description" content="Save time every day by using Mendix APIs"><meta property="og:type" content="article"><meta property="og:url" content="https://maismaus.github.io/blog/quick-and-easy-deployments-using-postman/"><meta property="og:image" content="https://maismaus.github.io/blog/images/postmandeployments/header.webp"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-01-24T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-24T00:00:00+00:00"><meta property="og:site_name" content="mariusvanderknaap.nl"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://maismaus.github.io/blog/images/postmandeployments/header.webp"><meta name=twitter:title content="Quick and Easy Deployments on Mendix Cloud Using Postman"><meta name=twitter:description content="Save time every day by using Mendix APIs"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://maismaus.github.io/blog/"},{"@type":"ListItem","position":3,"name":"Quick and Easy Deployments on Mendix Cloud Using Postman","item":"https://maismaus.github.io/blog/quick-and-easy-deployments-using-postman/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Quick and Easy Deployments on Mendix Cloud Using Postman","name":"Quick and Easy Deployments on Mendix Cloud Using Postman","description":"Save time every day by using Mendix APIs","keywords":["Mendix","CICD","Postman","Automation"],"articleBody":"If your app runs in the Mendix cloud you are probably using the Mendix Developer Portal to deploy your application. Deploying this way takes several steps: creating a deployment package, transferring it to the desired environment, and restarting the app. Each step can take several minutes after which you have to check back to see if you can progress further.\nYou’ll save a lot of time and frustration by automating this process. In this blog post, I’ll go over my automated deployment pipeline using Postman. The Postman collection contains several services for the Mendix API. It has services to build, transport, and deploy new packages. After setting it up, you’ll be able to use the Postman Collection Runner to run these requests in sequence and deploy with a single press of a button!\nFind the finished collection here.\nIt includes a folder for new deployments and a folder to redeploy the last package. The latter can be used to transport a package from one environment to the other, i.e. from Test to Acceptance. You can start the Collection Runner on one of the folders depending on your use case.\nStep 1: Preparing the environment Create a new Postman Collection. We use that to store our requests and variables.\nBefore getting started on requests, we need the proper credentials for the Deploy API. We’ll need tokens for both the Deploy API and the App Repository API.\nFollow the steps described in both below doc pages to set up your API credentials.\nDeploy API App Repository API Store the credentials in your Collection Variables as MendixUsername, MendixApiKey and MendixPersonalAccessToken.\nStep 2: Test the connection and retrieve the project App ID Once the connection is working, we’ll need the app’s identifiers. We can retrieve our apps using the following API call. Store the returned AppID and ProjectID as a variable.\nGET https://deploy.mendix.com/api/1/apps\rMendix-Username: {{MendixUsername}}\rMendix-ApiKey: {{MendixApiKey}}\rStore the AppID and ProjectID in Environment Variables if you work on multiple Mendix apps. Select the right environment before running to deploy different apps each time!\nLastly, store the desired branch that you want to deploy as a variable. All preparation is now done and your variables should look like this:\nStep 3: Retrieve the latest revision Once we have the App ID and Project ID stored in our global variables, we can use them to perform our API calls. The first step is to retrieve the latest revision from the App Repository API. We also need to send our App Repository API credentials in the headers.\nGET https://repository.api.mendix.com/v1/repositories/{{ProjectID}}/branches/{{branch}}/commits\rAuthorization: MxToken {{MendixPersonalAccessToken}}\rOnce we receive a response, we have to store part of it to reuse it in subsequent requests. I chose to store them as collection variables. To do so, we can run a test to store a collection variable after a successful response:\nconst response = pm.response.json();\rconst latestRevision = response.items[0].id;\rpm.test(\"Has latest revision\", () =\u003e {\rpm.expect(latestRevision).to.not.be.undefined;\rpm.collectionVariables.set(\"latestRevision\", latestRevision);\r});\rStep 4: Retrieve the current environment package The Deploy API expects a version number to be included upon package creation. The most logical approach is to retrieve the package that is currently running and add a minor version to that. In order to do so, first set an environment variable as the name of the environment you want to deploy, then execute the following request:\nGET https://deploy.mendix.com/api/1/apps/{{AppID}}/packages\rMendix-Username: {{MendixUsername}}\rMendix-ApiKey: {{MendixApiKey}}\rFrom here on out, you’ll need to include the authentication headers every time. Make sure to include both Mendix-Username and Mendix-ApiKey for each request!\nThen, store the version as a collection variable using a test script:\nconst response = pm.response.json();\rconst version = response.Version;\rpm.test(\"Received current package version\", () =\u003e {\rpm.expect(version).to.not.be.undefined;\rpm.collectionVariables.set(\"version\", version);\r});\rStep 5: Create a new package Once we have the version stored, we can start creating a new package. Before we send the request, we can run a Pre-Request script to calculate the version:\nlet version = pm.collectionVariables.get(\"version\");\rif(version) {\rversion.lastIndexOf(\".\");\rlet packageVersion = version.substring(0,version.lastIndexOf(\".\"));\rlet minorVersion = packageVersion.substring(packageVersion.lastIndexOf(\".\") + 1, version.length);\rlet majorVersion = packageVersion.substring(0, packageVersion.lastIndexOf(\".\"));\rlet newMinorVersion = parseInt(minorVersion) + 1;\rpm.collectionVariables.set(\"newVersion\", majorVersion + \".\" + newMinorVersion);\r}\relse {\rpm.collectionVariables.set(\"newVersion\", \"0.0.0\");\r}\rThen, we can send a request to start the package build:\nPOST https://deploy.mendix.com/api/1/apps/{{AppID}}/packages\r{\r\"Branch\" : \"trunk\",\r\"Revision\" : \"{{latestRevision}}\",\r\"Version\" : \"{{newVersion}}\",\r\"Description\" : \"New minor version deployed from Postman\"\r}\rAnd store the returned package ID for later use in a test script:\nconst response = pm.response.json();\rconst packageID = response.PackageId;\rpm.test(\"Received package ID\", () =\u003e {\rpm.expect(packageID).to.not.be.undefined;\rpm.collectionVariables.set(\"packageID\", packageID);\r});\rStep 6: Check the package build status The package is now building asynchronously on the Mendix Cloud. In order to proceed, we must wait for the package to be done. We’ll keep sending a request every minute or so until the package is done:\nGET https://deploy.mendix.com/api/1/apps/{{AppID}}/packages/{{packageID}}\rWe can have Postman retry the request after a minute if the test case fails:\nconst response = pm.response.json();\rpm.test(\"Build succeeded\", function () {\rpm.expect(response.Status).to.equal(\"Succeeded\");\r});\rif (response.Status !== \"Succeeded\") {\rconsole.log(\"Package is still building...\");\rif(response.Status === \"Failed\") {\rreturn false;\r}\relse {\rsetTimeout(() =\u003e {}, 60000); // wait for 1 minute before retrying\rpostman.setNextRequest(pm.info.requestId); // retry the current request\r}\rStep 7: Transport the package Once the package is done, we can transport it to the environment. Luckily this is a synchronous action so we don’t have to include any timeouts here.\nPOST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/transport\r{\r\"PackageId\": \"{{packageID}}\"\r}\rStep 8: Stop the environment The final steps are about rebooting the environment so the new package is activated.\nPOST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/stop\rStep 9: Start the environment After stopping the environment, we can start it up again.\nPOST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/start\rWe’ll store the Job ID in the response for later use:\nconst response = pm.response.json();\rpm.test(\"Received JobId\", function () {\rlet jobId = response.JobId;\rpm.expect(jobId).to.not.be.undefined;\rpm.collectionVariables.set(\"JobID\", jobId);\r});\rStep 10: Check start status (optional) The request to start the environment is asynchronous again. Optionally, we can send another request using timeouts to keep checking for the start status.\nGET https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/start/{{JobID}}\rKeep checking the status using the Postman tests:\nconst response = pm.response.json();\rif (response.Status === \"Starting\") {\rconsole.log(\"Environment is starting...\");\rsetTimeout(() =\u003e {}, 60000);\rpostman.setNextRequest(pm.info.requestId);\r}\rpm.test(\"Environment has started\", function () {\rpm.expect(response.Status).to.equal(\"Started\");\r});\rOnce the environment has started, the collection run will finish and your new package will be available online.\nYou can now use the Postman Collection Runner to run all the requests in order. This automatically deploys a new package from the latest revision in your selected branch. If anything needs to be fixed as expected, refer to the extensive Mendix documentation available, or leave a comment below!\nNext steps This blog post is meant to give you an idea of what is possible using the available Mendix API services. From here on out, you can expand the functionality as necessary. For my project, I have an integration with the Slack API sending messages when I start and finish a deployment to notify the team. You can send e-mails on deployments, you can integrate the service with a tool like Jenkins for a scheduled deployment. Anything is possible from here on out! I hope this blog post saves you some time in the future and perhaps inspires you to explore new automation capabilities.\n","wordCount":"1201","inLanguage":"en","image":"https://maismaus.github.io/blog/images/postmandeployments/header.webp","datePublished":"2023-01-24T00:00:00Z","dateModified":"2023-01-24T00:00:00Z","author":{"@type":"Person","name":"Marius"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://maismaus.github.io/blog/quick-and-easy-deployments-using-postman/"},"publisher":{"@type":"Organization","name":"Marius van der Knaap","logo":{"@type":"ImageObject","url":"https://maismaus.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><span class=logo-switches></span></div><ul id=menu><li><a href=https://maismaus.github.io/ title=home><span>home</span></a></li><li><a href=https://maismaus.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://maismaus.github.io/docs/ title=docs><span>docs</span></a></li><li><a href=https://maismaus.github.io/cv/ title=cv><span>cv</span></a></li><li><a href=https://maismaus.github.io/search/ title=" (Alt + /)" accesskey=/><span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" fill="currentcolor"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8.0 45.3s-32.8 12.5-45.3.0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9.0 208S93.1.0 208 0 416 93.1 416 208zM208 352a144 144 0 100-288 144 144 0 100 288z"/></svg></span></a></li><li><a href=https://maismaus.github.io/cv.pdf title><span><svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://maismaus.github.io>Home</a>&nbsp;»&nbsp;<a href=https://maismaus.github.io/blog/>Blogs</a></div><h1 class=post-title>Quick and Easy Deployments on Mendix Cloud Using Postman</h1><div class=post-description>Save time every day by using Mendix APIs</div><div class=post-meta><span title='2023-01-24 00:00:00 +0000 UTC'>24 January 2023</span>&nbsp;·&nbsp;6 min&nbsp;|&nbsp;<a href=https://github.com/Maismaus/mariusvanderknaap.nl/blob/master/content/blog/postmandeployments.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://maismaus.github.io/blog/images/postmandeployments/header.webp alt="Quick and easy deployments on Mendix Cloud using Postman"></figure><div class=post-content><p>If your app runs in the Mendix cloud you are probably using the Mendix Developer Portal to deploy your application. Deploying this way takes several steps: creating a deployment package, transferring it to the desired environment, and restarting the app. Each step can take several minutes after which you have to check back to see if you can progress further.</p><p>You’ll save a lot of time and frustration by automating this process. In this blog post, I’ll go over my automated deployment pipeline using Postman. The Postman collection contains several services for the Mendix API. It has services to build, transport, and deploy new packages. After setting it up, you’ll be able to use the Postman Collection Runner to run these requests in sequence and deploy with a single press of a button!</p><p>Find the finished collection <a href=https://www.getpostman.com/collections/1946599fd1a8fdd81d7d>here</a>.</p><p>It includes a folder for new deployments and a folder to redeploy the last package. The latter can be used to transport a package from one environment to the other, i.e. from Test to Acceptance. You can start the Collection Runner on one of the folders depending on your use case.</p><h1 id=step-1-preparing-the-environment>Step 1: Preparing the environment<a hidden class=anchor aria-hidden=true href=#step-1-preparing-the-environment>#</a></h1><p>Create a new Postman Collection. We use that to store our requests and variables.</p><p>Before getting started on requests, we need the proper credentials for the Deploy API. We’ll need tokens for both the Deploy API and the App Repository API.</p><p>Follow the steps described in both below doc pages to set up your API credentials.</p><ul><li><a href=https://docs.mendix.com/apidocs-mxsdk/apidocs/deploy-api/#authentication>Deploy API</a></li><li><a href=https://docs.mendix.com/apidocs-mxsdk/apidocs/app-repository-api/#4-authentication>App Repository API</a></li></ul><p>Store the credentials in your Collection Variables as <code>MendixUsername</code>, <code>MendixApiKey</code> and <code>MendixPersonalAccessToken</code>.</p><h1 id=step-2-test-the-connection-and-retrieve-the-project-app-id>Step 2: Test the connection and retrieve the project App ID<a hidden class=anchor aria-hidden=true href=#step-2-test-the-connection-and-retrieve-the-project-app-id>#</a></h1><p>Once the connection is working, we’ll need the app’s identifiers. We can retrieve our apps using the following API call. Store the returned <code>AppID</code> and <code>ProjectID</code> as a variable.</p><pre><code>GET https://deploy.mendix.com/api/1/apps
Mendix-Username: {{MendixUsername}}
Mendix-ApiKey: {{MendixApiKey}}
</code></pre><blockquote><p>Store the AppID and ProjectID in <a href=https://learning.postman.com/docs/sending-requests/variables/>Environment Variables</a> if you work on multiple Mendix apps. Select the right environment before running to deploy different apps each time!</p></blockquote><p>Lastly, store the desired branch that you want to deploy as a variable. All preparation is now done and your variables should look like this:</p><p><img loading=lazy src=/blog/images/postmandeployments/collectionvariables.webp alt="The resulting Collection Variables file. Initial values contain examples of what the variable should look like."></p><h1 id=step-3-retrieve-the-latest-revision>Step 3: Retrieve the latest revision<a hidden class=anchor aria-hidden=true href=#step-3-retrieve-the-latest-revision>#</a></h1><p>Once we have the App ID and Project ID stored in our global variables, we can use them to perform our API calls. The first step is to retrieve the latest revision from the App Repository API. We also need to send our App Repository API credentials in the headers.</p><pre><code>GET https://repository.api.mendix.com/v1/repositories/{{ProjectID}}/branches/{{branch}}/commits
Authorization: MxToken {{MendixPersonalAccessToken}}
</code></pre><p>Once we receive a response, we have to store part of it to reuse it in subsequent requests. I chose to store them as collection variables. To do so, we can run a test to store a collection variable after a successful response:</p><pre><code>const response = pm.response.json();
const latestRevision = response.items[0].id;
pm.test(&quot;Has latest revision&quot;, () =&gt; {
    pm.expect(latestRevision).to.not.be.undefined;
    pm.collectionVariables.set(&quot;latestRevision&quot;, latestRevision);
});
</code></pre><h1 id=step-4-retrieve-the-current-environment-package>Step 4: Retrieve the current environment package<a hidden class=anchor aria-hidden=true href=#step-4-retrieve-the-current-environment-package>#</a></h1><p>The Deploy API expects a version number to be included upon package creation. The most logical approach is to retrieve the package that is currently running and add a minor version to that. In order to do so, first set an environment variable as the name of the <code>environment</code> you want to deploy, then execute the following request:</p><pre><code>GET https://deploy.mendix.com/api/1/apps/{{AppID}}/packages
Mendix-Username: {{MendixUsername}}
Mendix-ApiKey: {{MendixApiKey}}
</code></pre><blockquote><p>From here on out, you’ll need to include the authentication headers every time. Make sure to include both Mendix-Username and Mendix-ApiKey for each request!</p></blockquote><p>Then, store the version as a collection variable using a test script:</p><pre><code>const response = pm.response.json();
const version = response.Version;
pm.test(&quot;Received current package version&quot;, () =&gt; {
    pm.expect(version).to.not.be.undefined;
    pm.collectionVariables.set(&quot;version&quot;, version);
});
</code></pre><h1 id=step-5-create-a-new-package>Step 5: Create a new package<a hidden class=anchor aria-hidden=true href=#step-5-create-a-new-package>#</a></h1><p>Once we have the version stored, we can start creating a new package. Before we send the request, we can run a Pre-Request script to calculate the version:</p><pre><code>let version = pm.collectionVariables.get(&quot;version&quot;);
if(version) {
    version.lastIndexOf(&quot;.&quot;);
    let packageVersion = version.substring(0,version.lastIndexOf(&quot;.&quot;));
    let minorVersion = packageVersion.substring(packageVersion.lastIndexOf(&quot;.&quot;) + 1, version.length);
    let majorVersion = packageVersion.substring(0, packageVersion.lastIndexOf(&quot;.&quot;));
    let newMinorVersion = parseInt(minorVersion) + 1;
    pm.collectionVariables.set(&quot;newVersion&quot;, majorVersion + &quot;.&quot; + newMinorVersion);
}
else {
    pm.collectionVariables.set(&quot;newVersion&quot;, &quot;0.0.0&quot;);
}
</code></pre><p>Then, we can send a request to start the package build:</p><pre><code>POST https://deploy.mendix.com/api/1/apps/{{AppID}}/packages
{
    &quot;Branch&quot; : &quot;trunk&quot;,
    &quot;Revision&quot; :  &quot;{{latestRevision}}&quot;,
    &quot;Version&quot; :  &quot;{{newVersion}}&quot;,
    &quot;Description&quot; :  &quot;New minor version deployed from Postman&quot;
}
</code></pre><p>And store the returned package ID for later use in a test script:</p><pre><code>const response = pm.response.json();
const packageID = response.PackageId;
pm.test(&quot;Received package ID&quot;, () =&gt; {
    pm.expect(packageID).to.not.be.undefined;
    pm.collectionVariables.set(&quot;packageID&quot;, packageID);
});
</code></pre><h1 id=step-6-check-the-package-build-status>Step 6: Check the package build status<a hidden class=anchor aria-hidden=true href=#step-6-check-the-package-build-status>#</a></h1><p>The package is now building asynchronously on the Mendix Cloud. In order to proceed, we must wait for the package to be done. We’ll keep sending a request every minute or so until the package is done:</p><pre><code>GET https://deploy.mendix.com/api/1/apps/{{AppID}}/packages/{{packageID}}
</code></pre><p>We can have Postman retry the request after a minute if the test case fails:</p><pre><code>const response = pm.response.json();
pm.test(&quot;Build succeeded&quot;, function () {
    pm.expect(response.Status).to.equal(&quot;Succeeded&quot;);
});
if (response.Status !== &quot;Succeeded&quot;) {
console.log(&quot;Package is still building...&quot;);
if(response.Status === &quot;Failed&quot;) {
    return false;
}
else {
    setTimeout(() =&gt; {}, 60000); // wait for 1 minute before retrying
    postman.setNextRequest(pm.info.requestId); // retry the current request
}
</code></pre><h1 id=step-7-transport-the-package>Step 7: Transport the package<a hidden class=anchor aria-hidden=true href=#step-7-transport-the-package>#</a></h1><p>Once the package is done, we can transport it to the environment. Luckily this is a synchronous action so we don’t have to include any timeouts here.</p><pre><code>POST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/transport
{
    &quot;PackageId&quot;: &quot;{{packageID}}&quot;
}
</code></pre><h1 id=step-8-stop-the-environment>Step 8: Stop the environment<a hidden class=anchor aria-hidden=true href=#step-8-stop-the-environment>#</a></h1><p>The final steps are about rebooting the environment so the new package is activated.</p><pre><code>POST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/stop
</code></pre><h1 id=step-9-start-the-environment>Step 9: Start the environment<a hidden class=anchor aria-hidden=true href=#step-9-start-the-environment>#</a></h1><p>After stopping the environment, we can start it up again.</p><pre><code>POST https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/start
</code></pre><p>We’ll store the Job ID in the response for later use:</p><pre><code>const response = pm.response.json();
pm.test(&quot;Received JobId&quot;, function () {
    let jobId = response.JobId;
    pm.expect(jobId).to.not.be.undefined;
    pm.collectionVariables.set(&quot;JobID&quot;, jobId);
});
</code></pre><h1 id=step-10-check-start-status-optional>Step 10: Check start status (optional)<a hidden class=anchor aria-hidden=true href=#step-10-check-start-status-optional>#</a></h1><p>The request to start the environment is asynchronous again. Optionally, we can send another request using timeouts to keep checking for the start status.</p><pre><code>GET https://deploy.mendix.com/api/1/apps/{{AppID}}/environments/{{environment}}/start/{{JobID}}
</code></pre><p>Keep checking the status using the Postman tests:</p><pre><code>const response = pm.response.json();
if (response.Status === &quot;Starting&quot;) {
    console.log(&quot;Environment is starting...&quot;);
    setTimeout(() =&gt; {}, 60000);
    postman.setNextRequest(pm.info.requestId);
}
pm.test(&quot;Environment has started&quot;, function () {
    pm.expect(response.Status).to.equal(&quot;Started&quot;);
});
</code></pre><p>Once the environment has started, the collection run will finish and your new package will be available online.</p><hr><p>You can now use the Postman Collection Runner to run all the requests in order. This automatically deploys a new package from the latest revision in your selected branch. If anything needs to be fixed as expected, refer to the extensive Mendix documentation available, or leave a comment below!</p><p><img loading=lazy src=/blog/images/postmandeployments/collectionrunner.webp alt="The Collection Runner working on our deployment for us."></p><h2 id=next-steps>Next steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h2><p>This blog post is meant to give you an idea of what is possible using the available Mendix API services. From here on out, you can expand the functionality as necessary. For my project, I have an integration with the Slack API sending messages when I start and finish a deployment to notify the team. You can send e-mails on deployments, you can integrate the service with a tool like Jenkins for a scheduled deployment. Anything is possible from here on out! I hope this blog post saves you some time in the future and perhaps inspires you to explore new automation capabilities.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://maismaus.github.io/tags/mendix/>Mendix</a></li><li><a href=https://maismaus.github.io/tags/cicd/>CICD</a></li><li><a href=https://maismaus.github.io/tags/postman/>Postman</a></li><li><a href=https://maismaus.github.io/tags/automation/>Automation</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on twitter" href="https://twitter.com/intent/tweet/?text=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman&amp;url=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f&amp;hashtags=Mendix%2cCICD%2cPostman%2cAutomation"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f&amp;title=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman&amp;summary=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman&amp;source=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f&title=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on whatsapp" href="https://api.whatsapp.com/send?text=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman%20-%20https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on telegram" href="https://telegram.me/share/url?text=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman&amp;url=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Quick and Easy Deployments on Mendix Cloud Using Postman on ycombinator" href="https://news.ycombinator.com/submitlink?t=Quick%20and%20Easy%20Deployments%20on%20Mendix%20Cloud%20Using%20Postman&u=https%3a%2f%2fmaismaus.github.io%2fblog%2fquick-and-easy-deployments-using-postman%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://maismaus.github.io>Marius van der Knaap</a></span> | KvK: 83169164 | BTW: NL003791766B40</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>